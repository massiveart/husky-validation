<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<link href="../../css/validation.css" rel="stylesheet">
		<link href="../../assets/css/husky.min.css" rel="stylesheet">

		<style type="text/css">
			#content {
				margin-left: auto;
				margin-right: auto;
				width: 900px;
				margin-top: 100px;
			}

			.btn {
				margin-left: 10px;
				margin-right: 10px;
			}

			.empty .mapper-remove-persons {
				display: none;
			}

			#mapper-add-persons.full {
				display: none;
			}
		</style>
	</head>
	<body>

		<div id="content">
			<form id="content-form" class="grid">
				<h1>Creator</h1>

				<div class="grid-row">
					<div class="grid-col-6">
						<label for="firstName">First-Name</label>
						<input type="text"
							   class="form-element"
							   id="firstName"
							   data-mapper-property="firstName"/>
					</div>

					<div class="grid-col-6">
						<label for="lastName">Last-Name</label>
						<input type="text"
							   class="form-element"
							   id="lastName"
							   data-mapper-property="lastName"/>
					</div>
				</div>

				<div class="grid-row">
					<div class="grid-col-6">
						<label for="birthday">Birthday</label>
						<input type="text"
							   data-type="date"
							   class="form-element"
							   id="birthday"
							   data-mapper-property="birthday"/>
					</div>
				</div>

				<h1>Persons</h1>

				<div id="persons"
					 data-type="collection"
					 data-type-config='{"persons": {"min": 1, "max": 5, "tpl": "#tpl-person", "emptyTpl": "#empty-tpl-person", "addButton": "#mapper-add-persons", "removeButton": ".mapper-remove-persons", "counter": "#current-counter-persons", "defaultData": {"firstName": "hallo", "lastName": "test"}}}'
					 data-type-min="2"
					 data-type-max="4"
					 data-mapper-property="persons">
				</div>

				<div class="grid-row">
					<div class="grid-col-3">
						<div id="mapper-add-persons" class="pointer btn align-center" data-mapper-add="persons">
							<span class="icon-add"></span> add person (
							<span id="current-counter-persons">0</span>
							)
						</div>
					</div>
					<div class="grid-col-3">
						<div class="pointer btn align-center" id="set-value">
							Set Value
						</div>
					</div>
					<div class="grid-col-3">
						<div class="pointer btn align-center" id="set-empty-value">
							Set Empty Value
						</div>
					</div>
					<div class="grid-col-3">
						<div class="pointer btn align-center" id="set-empty-object">
							Set Empty Object
						</div>
					</div>
				</div>

				<div class="grid-row">
					<div class="grid-col-3">
						<div class="pointer btn align-center" id="get-value">
							Get Value
						</div>
					</div>
				</div>
			</form>

			<div class="grid">
				<pre class="grid-row" id="json">

				</pre>
			</div>
		</div>

		<script src="../../assets/js/jquery.js"></script>
		<script data-main="index.de.js" type="text/javascript" src="../../assets/js/require.js"></script>
	</body>
</html>

<script type="text/template" id="tpl-person">
	<div class="grid-row">
		<div class="grid-col-5">
			<label for="person-firstName-[%=index%]">First-Name</label>
			<input type="text"
				   class="form-element"
				   id="person-firstName-[%=index%]"
				   data-mapper-property="firstName"/>
		</div>

		<div class="grid-col-5">
			<label for="person-lastName-[%=index%]">Last-Name</label>
			<input type="text"
				   class="form-element"
				   id="person-lastName-[%=index%]"
				   data-mapper-property="lastName"/>
		</div>

		<div class="grid-col-2">
			<div class="pointer mapper-remove-persons" data-mapper-remove="persons">
				<span class="fa-times-circle"></span>
			</div>
		</div>
	</div>
</script>

<script type="text/template" id="empty-tpl-person">
	<div class="grid-row">No Persons exists!</div>
</script>
